# 启动指南 | Start Guide

## 🚀 快速启动

### 方式 1: 自动打开浏览器（推荐）

```bash
npm run dev
```

启动后会自动打开浏览器访问 http://localhost:5173

### 方式 2: 手动访问

如果浏览器没有自动打开：

```bash
# 启动后，手动访问以下地址
http://localhost:5173
```

或按住 `Cmd` (Mac) / `Ctrl` (Windows) 点击终端中的链接。

---

## ⚠️ 重要提示

### 1. 纯语音模式

本应用现在是**纯语音模式**，不提供文本输入：

- ✅ **支持**：麦克风语音输入
- ✅ **支持**：图片板快速选择
- ❌ **不支持**：手动文本输入

### 2. 浏览器要求

**必须使用支持语音识别的浏览器：**

| 浏览器 | 支持情况 |
|--------|----------|
| Chrome | ✅ 推荐（最佳支持） |
| Edge | ✅ 推荐 |
| Safari | ✅ 支持（Mac/iOS）|
| Firefox | ❌ 不支持 |

### 3. 麦克风权限

首次使用时：
1. 点击"现在说话"
2. 浏览器会弹出麦克风权限请求
3. **必须点击"允许"**
4. 如果误点"拒绝"，需要在浏览器设置中重新开启

---

## 🎤 使用流程

### 标准语音流程

1. **点击"现在说话"**
   - 进入 LISTENING 状态
   - 语音球放大并旋转（蓝紫色）

2. **清晰说出需求**
   - 例如："我想喝水"
   - 例如："我要上厕所"

3. **再次点击停止**
   - 进入 PROCESSING 状态
   - 语音球缩小（粉橙色）

4. **确认意图**
   - 显示："你是想说「我想喝水」对吗？"
   - 点击"是的" → 播报输出
   - 点击"不对" → 进入图片板

### 图片板备选流程

如果语音识别不准确：
1. 确认界面点击"不对"
2. 点击"使用图片板"
3. 从 12 个常见需求中选择
4. 再次确认 → 播报输出

---

## 🔍 故障排除

### 问题 1: 浏览器没有自动打开

**方案 A: 手动打开**
```bash
# Mac
open http://localhost:5173

# Windows
start http://localhost:5173

# Linux
xdg-open http://localhost:5173
```

**方案 B: 检查端口**
```bash
# 如果 5173 被占用，终端会显示其他端口
# 例如: Local: http://localhost:5174
# 访问显示的端口即可
```

**方案 C: 清除缓存重试**
```bash
# 停止服务器（Ctrl+C）
# 清除缓存
rm -rf node_modules/.vite

# 重新启动
npm run dev
```

### 问题 2: 无法识别语音

**检查清单：**
- [ ] 使用 Chrome/Edge 浏览器
- [ ] 麦克风权限已允许
- [ ] 在安静环境下说话
- [ ] 说话清晰、语速适中
- [ ] 查看控制台是否有日志输出

**打开调试模式：**
1. 按 `F12` 打开开发者工具
2. 切换到 Console 标签
3. 点击"现在说话"并说话
4. 应该看到：
   ```
   Starting speech recognition...
   Speech recognition started
   Speech recognition result: ...
   Recognized text: 你说的话
   ```

### 问题 3: 麦克风权限被拒绝

**Chrome/Edge:**
1. 地址栏点击 🔒 图标
2. 麦克风 → 允许
3. 刷新页面

**Safari:**
1. Safari → 设置 → 网站 → 麦克风
2. localhost → 允许
3. 刷新页面

---

## 🧪 功能测试

启动后测试以下功能：

### 基础测试
- [ ] 页面正常加载
- [ ] 语音球动画流畅
- [ ] 可以切换中英文

### 语音测试
- [ ] 点击"现在说话"请求麦克风权限
- [ ] 允许权限后进入 LISTENING 状态
- [ ] 说话后再次点击进入 PROCESSING
- [ ] 识别结果正确显示

### 确认测试
- [ ] 确认界面显示正确
- [ ] TTS 语音播报正常
- [ ] "是的"进入 OUTPUT 状态
- [ ] "不对"进入图片板

### 图片板测试
- [ ] 图片板正常显示 12 个选项
- [ ] 点击任意选项进入确认
- [ ] 确认后正常播报

---

## 📊 性能优化

### 开发模式优化

如果开发模式下动画卡顿：

```bash
# 禁用 HMR（热更新）
npm run dev -- --force

# 或使用生产构建预览
npm run build
npm run preview
```

### 浏览器优化

1. 关闭不必要的扩展
2. 清除浏览器缓存
3. 使用隐身模式测试

---

## 🎯 下一步

1. ✅ 本地测试通过
2. 📱 测试移动端（可选）
3. 🚀 部署到 Netlify/Vercel
4. 🔗 分享链接给用户

---

## 💡 提示

- 说话时靠近麦克风
- 在安静环境下使用
- 语速适中，发音清晰
- 常见需求直接用图片板更快
- 部署后配置 Groq API 提升准确度

---

**祝使用顺利！** 🎉

有问题查看：
- `TROUBLESHOOTING.md` - 详细故障排除
- `USER_GUIDE.md` - 用户使用指南
- `README.md` - 完整项目文档

